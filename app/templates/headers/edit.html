{% extends 'base.html' %}

{% block content %}
<script>
    $("#checks-nav").addClass("selected-nav");

    function confirm_and_delete(){
              name = "{{header.name}}";
              id = "{{header.id}}"
              msg = "Are you sure you want to delete header " + name + "?";
              msg += "\nThis action cannot be undone."
              confirmed = confirm(msg);
              if(confirmed){
                     $.ajax({
                     url: "{{url_for('headers.delete')}}",
                     type: "post",
                     data: {"header_id":id},
                     success: function (data){
                            window.location.replace("{{url_for('headers.index')}}");
                     }
                     });
              }
       }
</script>
<h2>{% block title %}Edit Header{% endblock %}</h2>
<form method="post">
    <div class="input-div">
        <label for="name">Name</label>
        <br>
        <input type="text" name="name" placeholder="" value="{{ header.name}}"></input>
    </div>    
    <div class="input-div">
        <label for="key">Key</label>
        <br>
        <input type="text" name="key" placeholder="" value="{{ header.key }}"></input>
    </div>
    <div class="input-div">
    <label for="url">Value</label>
    <br>
    <input type="text" name="value" placeholder="" value="{{ header.value }}"></input>
    </div>
    <input type="hidden" name="header_id" value="{{header_id}}"></input>
    <button type="submit">Sumbit</button>
</form>
<HR>
<BUTTON onclick="confirm_and_delete()">DELETE HEADER</BUTTON>

{% endblock %}