{% extends 'base.html' %}

{% block content %}
<script>
    $("#checks-nav").addClass("selected-nav");
  </script>
  <h2>{% block title %}Check Details {% endblock %}</h2>
    <TABLE>
        <TR><TH></TH></TR>
        <TR><TD>name</TD><TD>{{check.name}}</TD></TR>
        <TR><TD>url</TD><TD>{{check.url}}</TD></TR>
        <TR><TD>method</TD><TD>{{check.method}}</TD></TR>
        <TR><TD>content</TD><TD>{{check.content}}</TD></TR>
    </TABLE>
    <div>
        <A HREF="{{url_for('checks.edit', check_id=check.id)}}">Edit</A>
    </div>
        <h3>Anomaly Detectors</h3>
            <TABLE>
                <TR><TH>Name</TH><TH>Type</TH></TR>
            {% for anomaly_detector in check.anomaly_detectors %}
                <TR><TD>{{anomaly_detector.name}}</TD><TD>{{anomaly_detector.type}}</TD></TR>
            
            {% endfor %}
        </TABLE>

        <div class="add-to"><A HREF = " {{url_for('checks.add_anomaly_detector', check_id=check.id)}}">Add Anomoly Detector</A></div>
        
        <h3>Headers</h3>
        <TABLE>
            <TR><TH>Key</TH><TH>Value</TH></TR>
        {% for header in check.headers %}
        <TR><TD>{{header.key}}</TD><TD>{{header.value}}</TD></TR>
        {% endfor %}
        </TABLE>
        <div class="add-to"><a href="{{ url_for('checks.new_header', check_id=check.id) }}">Add Header</a></div>
    </div>
{% endblock %}